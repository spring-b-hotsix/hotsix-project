<!DOCTYPE html>
<!-- Thymeleaf -->
<html lang="ko" xmlns:th="http://www.thymeleaf.org" data-bs-theme="auto">
<head>
    <!--    <script src="../assets/js/color-modes.js"></script>-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.115.4">
    <title>Hotsix-Board</title>
    <!--  jquery  -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!--bootstrap-->
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/navbar-fixed/">

    <!-- 팔레트 -->
    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/npm/spectrum-colorpicker2/dist/spectrum.min.css">
    <script src="https://cdn.jsdelivr.net/npm/spectrum-colorpicker2/dist/spectrum.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <!--    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">-->


    <style>

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        .b-example-divider {
            width: 100%;
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }

        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }

        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }

        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .btn-bd-primary {
            --bd-violet-bg: #712cf9;
            --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

            --bs-btn-font-weight: 600;
            --bs-btn-color: var(--bs-white);
            --bs-btn-bg: var(--bd-violet-bg);
            --bs-btn-border-color: var(--bd-violet-bg);
            --bs-btn-hover-color: var(--bs-white);
            --bs-btn-hover-bg: #6528e0;
            --bs-btn-hover-border-color: #6528e0;
            --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
            --bs-btn-active-color: var(--bs-btn-hover-color);
            --bs-btn-active-bg: #5a23c8;
            --bs-btn-active-border-color: #5a23c8;
        }

        .bd-mode-toggle {
            z-index: 1500;
        }

        .form-control-dark {
            border-color: var(--bs-gray);
        }

        .form-control-dark:focus {
            border-color: #fff;
            box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .25);
        }

        .text-small {
            font-size: 85%;
        }

        .dropdown-toggle:not(:focus) {
            outline: 0;
        }

        .account-padding {
            padding-left: 20px;
            padding-right: 20px;
        }

        .list-group-size {
            overflow-y: auto;
            max-height: 600px;
        }

        .list-size {
            width: 350px;
            margin-top: 20px;
            margin-left: 10px;
        }

        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .popup.active {
            display: block;
        }

        .modal-sheet .modal-dialog {
            width: 1000px;
            transition: bottom .75s ease-in-out;
        }

        .modal-sheet .modal-footer {
            padding-bottom: 2rem;
        }

        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 5px;
            text-align: left;
        }

        .success-message {
            color: green;
            font-size: 14px;
            margin-top: 5px;
            text-align: left;
        }

        .board-content {
            border-bottom: 1px solid black;
            padding-bottom: 10px; /* 줄과의 간격을 주기 위해 padding-bottom 추가 */
        }

        .popup-content {
            color: black;
        }

        .sp-colorize-container {
            width: 20px; /* Adjust the width as needed */
        }

        #side-label-list {
            display: flex;
            gap: 5px; /* 각 h6 태그 사이의 간격 설정 */
            flex-wrap: wrap; /* 라벨이 너비를 넘어갈 경우 다음 줄로 내려가도록 설정 */
        }

        .label-text {
            display: inline-block;
            padding: 8px 12px;
            border-radius: 20px; /* 동그란 모서리를 위한 값 */
            margin-bottom: 5px; /* 다음 줄로 내려갈 때 간격 설정 */
            font-size: 14px;
        }
    </style>


</head>
<body style="padding-top: 3.5rem;">

<!--헤더-->
<header class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
        <!--        메인 이동-->
        <a class="navbar-brand" href="/">
            <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" fill="currentColor"
                 style="margin-right: 7px;" class="bi bi-6-square-fill" viewBox="0 0 16 16">
                <path d="M8.111 7.863c-.92 0-1.564.65-1.564 1.576 0 1.032.703 1.635 1.558 1.635.868 0 1.553-.533 1.553-1.629 0-1.06-.744-1.582-1.547-1.582Z"/>
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2Zm6.21 3.855c1.612 0 2.515.99 2.573 1.899H9.494c-.1-.358-.51-.815-1.312-.815-1.078 0-1.817 1.09-1.805 3.036h.082c.229-.545.855-1.155 1.98-1.155 1.254 0 2.508.88 2.508 2.555 0 1.77-1.218 2.783-2.847 2.783-.932 0-1.84-.328-2.409-1.254-.369-.603-.597-1.459-.597-2.642 0-3.012 1.248-4.407 3.117-4.407Z"/>
            </svg>
            <b>Hotsix</b></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <!--보드선택-->
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" id="get-boards"
                       aria-expanded="false">Boards</a>
                    <ul class="dropdown-menu" id="boards-dropdown-menu">
                        <h6 style="text-align:center; margin-top:3px; margin-bottom:5px; font-weight:bold">my
                            boards</h6>
                        <li id="my-boards-list">
                            <a class="dropdown-item" href="#">Board1</a>
                            <a class="dropdown-item" href="#">Board1</a>
                        </li>
                        <h6 style="text-align:center; margin-top:15px; margin-bottom:5px;  font-weight:bold">guest
                            boards</h6>
                        <li id="guest-boards-list">
                            <a class="dropdown-item" href="#">Board1</a>
                            <a class="dropdown-item" href="#">Board1</a>
                        </li>
                        <!--                        <li><a class="dropdown-item" href="#">Board1</a></li>-->
                        <!--                        <li><a class="dropdown-item" href="#">Board2</a></li>-->
                        <!--                        <li><a class="dropdown-item" href="#">Board3</a></li>-->
                    </ul>
                </li>
            </ul>
            <!--            검색창-->
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-light" type="submit">Search</button>
            </form>
            <!--            계정-->
            <div class="dropdown text-end account-padding">
                <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"
                         alt="mdo" width="32" height="32" class="rounded-circle">
                </a>
                <ul class="dropdown-menu text-small dropdown-menu-end">
                    <li><a class="dropdown-item" href="#">Manage account</a></li>
                    <li><a class="dropdown-item" href="#">Cards</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="#">Log out</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>
<main class="board">
    <!--네비게이션 바-->
    <nav class="navbar bg-body-tertiary" aria-label="Light offcanvas navbar">
        <div class="container-fluid">
            <!--보드 이름-->
            <h3 class="navbar-brand" href="#" style="margin-right: auto; margin-left: 10px"><b
                    th:text="${board.name}"></b></h3>
            <input id="this-board" th:value="${board.boardId}" style="display: none;">

            <!--보드 참여자-->
            <div class="justify-content-end account-padding d-flex" id="board-user-list">
                <!--                <a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"-->
                <!--                   data-bs-target="#user-info" aria-expanded="false">-->
                <!--                    <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"-->
                <!--                         alt="mdo" width="32" height="32" class="rounded-circle">-->
                <!--                </a>-->
                <!--                <a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"-->
                <!--                   data-bs-target="#user-info" aria-expanded="false">-->
                <!--                    <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"-->
                <!--                         alt="mdo" width="32" height="32" class="rounded-circle">-->
                <!--                </a>-->
                <!--                <a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"-->
                <!--                   data-bs-target="#user-info" aria-expanded="false">-->
                <!--                    <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"-->
                <!--                         alt="mdo" width="32" height="32" class="rounded-circle">-->
                <!--                </a>-->
            </div>

            <!--유저 정보 모달-->
            <div class="modal fade" id="user-info" tabindex="-1"
                 aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content" id="user-info-desc">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">User Info</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body d-flex">
                            <a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"
                               data-bs-target="#user-info" aria-expanded="false">
                                <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"
                                     alt="mdo" width="70" height="70" class="rounded-circle">
                            </a>
                            <div style="margin-left: 20px">
                                <h5><b>nickname</b></h5>
                                user@email.com
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                Close
                            </button>
                            <button type="button" class="btn btn-primary">Delete</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--보드에 초대하기-->
            <a href="#" class="justify-content-end d-block link-body-emphasis text-decoration-none account-padding"
               aria-expanded="false" data-bs-toggle="modal"
               data-bs-target="#user-invite">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                     class="bi bi-person-add" viewBox="0 0 16 16">
                    <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                    <path d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"/>
                </svg>
            </a>

            <!--보드 초대 모달창-->
            <div class="modal fade" id="user-invite" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Invite board</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input id="invite-email" type="text" class="form-control" placeholder="Email address"
                                   aria-label="user-invite" aria-describedby="basic-addon1">
                        </div>
                        <div class="modal-footer">

                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                Close
                            </button>
                            <button type="button" class="btn btn-primary" onclick="inviteUser()">Invite</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--(offcanvas) 보드 메뉴-->
            <button class="navbar-toggler justify-content-end" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasNavbarLight" aria-controls="offcanvasNavbarLight"
                    aria-label="Toggle navigation" style="margin-right: 10px">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbarLight"
                 aria-labelledby="offcanvasNavbarLightLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasNavbarLightLabel"><b>Board Info</b></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <!--보드 관리-->
                        <div style="margin-bottom: 70px">
                            <!--보드 이름-->
                            <div style="margin-bottom: 20px">
                                <li class="nav-item">
                                    <h6 class="nav-link active" aria-current="page"><b>Title</b></h6>
                                    <div style="margin-left: 10px; margin-right: 10px;"><p
                                            style="margin-left: 10px; margin-right: 10px" th:text="${board.name}"></p>
                                    </div>
                                </li>
                            </div>

                            <!--보드 설명-->
                            <div style="margin-bottom: 20px">
                                <li class="nav-item">
                                    <h6 class="nav-link active" aria-current="page"><b>Description</b></h6>
                                    <div style="margin-left: 10px; margin-right: 10px; background-color: antiquewhite">
                                        <p style="margin-left: 10px; margin-right: 10px"
                                           th:text="${board.description}"></p>
                                    </div>
                                </li>
                            </div>

                            <!--보드 컬러-->
                            <div style="margin-bottom: 20px">
                                <li class="nav-item">
                                    <div class="d-flex">
                                        <h6 class="nav-link"><b>Color</b></h6>
                                        <div id="background-color"
                                             th:style="'margin-left: 10px; width: 70px; height: 30px; margin-top: 10px; background-color: rgb(' + ${board.red} + ', ' + ${board.green} + ', ' + ${board.blue} + ')'">
                                        </div>
                                </li>
                            </div>

                            <!--보드 수정하기-->
                            <a href="#" class="text-secondary ms-auto" data-bs-toggle="modal"
                               data-bs-target="#board-update"
                               style="margin-right: 10px; display: flex; justify-content: flex-end;">Edit</a>
                        </div>


                        <!--보드 라벨-->
                        <div style="margin-bottom: 50px; display: flex; flex-wrap: wrap;">
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="modal"
                                   data-bs-target="#board-label" href="#"><b>Labels</b></a>
                                <div style="margin-bottom: 50px; display: flex; flex-wrap: wrap;">
                                    <div th:each="boardLabel : ${board.labelList}">
                                        <a class="btn mb-0 label-text" href="#" role="button"
                                           th:style="'margin-right: 5px; margin-bottom: 5px; background-color:rgb(' + ${boardLabel.red} + ', ' + ${boardLabel.green} + ', ' + ${boardLabel.blue} + ')'"
                                           data-bs-toggle="modal"
                                           data-bs-target="#board-label" th:text="${boardLabel.title}"
                                           th:attr="data-label-id=${boardLabel.labelId}"></a>
                                    </div>
                                </div>
                            </li>
                        </div>

                        <!--보드 삭제-->
                        <li class="nav-item" style="margin-top: 50px; margin-left: 300px">
                            <a class="nav-link" data-bs-toggle="modal"
                               data-bs-target="#board-delete" href="#">delete</a>
                        </li>
                    </ul>
                </div>
            </div>

            <!--보드 수정 모달창-->
            <div class="modal fade" id="board-update" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Edit Board</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="board-update-title" style="margin-bottom: 10px">
                                <h6>Title</h6>
                                <input id="board-name" type="text" class="form-control"
                                       placeholder="Enter board title..."
                                       aria-label="user-invite" aria-describedby="basic-addon1" th:value="${board.name}"
                                       onchange="nameConfirm()">
                                <div id="name-error" class="error-message" style="display: none;"></div>
                                <div id="name-success" class="success-message" style="display: none;"></div>
                            </div>
                            <div id="board-update-description" style="margin-bottom: 10px">
                                <h6>description</h6>
                                <input id="board-description" type="text" class="form-control"
                                       placeholder="Enter board description..."
                                       aria-label="user-invite" aria-describedby="basic-addon1"
                                       th:value="${board.description}">
                            </div>
                            <div id="board-update-color">
                                <h6>color</h6>
                                <input type="text" id="board-color"
                                       th:value="'rgb('+${board.red}+','+ ${board.green}+','+ ${board.blue}+')'"
                                       readonly/>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                Close
                            </button>
                            <button id="board-change-ok-button" type="button" class="btn btn-primary"
                                    onclick="changeBoard(this)" th:value="${board.boardId}">Edit
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!--보드 라벨 관리 모달창-->
            <div class="modal fade" id="board-label" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Labels</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="label-update-name" style="margin-bottom: 10px">
                                <h6>Name</h6>
                                <input id="label-update-name input" type="text" class="form-control"
                                       placeholder="Enter label name..."
                                       aria-label="user-invite" aria-describedby="basic-addon1">
                            </div>
                            <div id="label-update-color">
                                <h6>Color</h6>
                                <input id="label-update-color input" type="text" readonly/>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                    data-bs-target="#label-delete" id="delete-label-btn" onclick="deleteLabel(this)">
                                Delete
                            </button>
                            <button type="button" class="btn btn-primary" id="update-label-btn"
                                    onclick="updateLabel(this)">Save
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!--라벨 삭제 확인 모달-->
            <div class="modal fade" id="label-delete" tabindex="-1"
                 aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Delete</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <b style="margin-right: 10px">'label1'</b>
                            라벨을 삭제하시겠습니까?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger">Delete</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!--보드 삭제 확인 모달-->
            <div class="modal fade" id="board-delete" tabindex="-1"
                 aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Delete</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <b style="margin-right: 10px" th:text="${board.name}"></b>
                            보드를 삭제하시겠습니까?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" onclick="deleteBoard()">Delete</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div id="board"
         th:style="'height: 795px; background-color: rgb(' + ${board.red} + ', ' + ${board.green} + ', ' + ${board.blue} + ')'">

        <!--리스트(사이드) -->
        <div class="d-flex flex-row" style="margin-left: 10px;">
            <!--사이드-->
            <div class="d-flex flex-column flex-md-row p-2 gap-2 py-md-3 align-items-start justify-content-start">
                <div class="list-group list-size" th:each="side : ${board.sideList}">
                    <!--사이드 관리 메뉴-->
                    <div class="list-group-item d-flex bg-secondary">
                        <!--사이드 이름-->
                        <h5 href="#" class="text-light text-decoration-none">
                            <b th:text="${side.name}"></b>
                        </h5>
                        <ul class="navbar-nav ms-auto mb-2 mb-md-0">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-three-dots" viewBox="0 0 16 16">
                                        <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                                    </svg>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                           data-bs-target="#side-name" aria-current="true" th:value="${side.sideId}"
                                           id="change-list-name"
                                           onclick="setChangeListNameButtonValue(this.getAttribute('value'))">Edit
                                        Name</a></li>
                                    <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                           data-bs-target="#side-order" aria-current="true" th:value="${side.sideId}"
                                           id="change-list-position"
                                           onclick="setChangeListPositionButtonValue(this.getAttribute('value'))">Move
                                        list</a></li>
                                    <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                           data-bs-target="#side-delete" aria-current="true" th:value="${side.sideId}"
                                           id="delete-list"
                                           onclick="setDeleteListButtonValue(this.getAttribute('value'))">Delete</a>
                                    </li>
                                </ul>

                                <!--사이드 이름 수정 모달창-->
                                <div class="modal fade" id="side-name" tabindex="-1" aria-labelledby="exampleModalLabel"
                                     aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5">Edit Name</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <input type="text" class="form-control" placeholder="Edit list name..."
                                                       aria-label="List-name" aria-describedby="basic-addon1"
                                                       id="edit-list-name">
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-primary" onclick="editList(this)"
                                                        value="">Save changes
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--사이드 위치 이동 모달-->
                                <div class="modal fade" id="side-order" tabindex="-1"
                                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5">Move List</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div>
                                                    <h6>Board</h6>
                                                    <select class="form-select" aria-label="Default select example">
                                                        <option selected>board title</option>
                                                        <option value="1">board title</option>
                                                        <option value="2">another board</option>
                                                    </select>
                                                </div>

                                                <div style="margin-top: 10px">
                                                    <h6>Position</h6>
                                                    <select class="form-select" aria-label="Default select example">
                                                        <option selected>2</option>
                                                        <option value="1">1</option>
                                                        <option value="2">2(Current)</option>
                                                        <option value="3">3</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-primary">Move</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--사이드 삭제 모달-->
                                <div class="modal fade" id="side-delete" tabindex="-1"
                                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5">Delete</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <b style="margin-right: 10px" th:value="${side.name}"></b>
                                                리스트를 삭제하시겠습니까?
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-danger" onclick="deleteList()">
                                                    Delete
                                                </button>
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                                    Close
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!--리스트(사이드) 내 카드-->
                    <div class="list-group-size" th:each="card : ${side.cardList}">
                        <a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2"
                           data-bs-toggle="modal"
                           data-bs-target="#cardDetails" aria-current="true">
                            <div class="d-flex flex-column">
                                <div id="side-label-list">
                                    <h6 th:each="label : ${card.labelList}" class="mb-0 label-text"
                                        th:text="${label.title}"
                                        th:style="'background-color:rgb(' + ${label.red} + ', ' + ${label.green} + ', ' + ${label.blue} + ')'"></h6>
                                </div>
                                <p class="mb-0 opacity-75" th:text="${card.name}"></p>
                                <small class="opacity-50 text-nowrap" th:text="${card.description}"></small>
                            </div>
                        </a>
                    </div>

                    <!--카드 추가하기-->
                    <a href="#"
                       class="list-group-item list-group-item-secondary list-group-item-action d-flex gap-2 py-2"
                       aria-current="true" data-bs-toggle="modal"
                       data-bs-target="#card-create" th:value="${side.sideId}"
                       onclick="setCardAddButtonValue(this.getAttribute('value'))">
                        + Add a card
                    </a>

                    <!--카드 생성 모달창-->
                    <div class="modal fade" id="card-create" tabindex="-1" aria-labelledby="exampleModalLabel"
                         aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5">Add a card</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <input type="text" class="form-control" placeholder="Enter a title for this card..."
                                           aria-label="card-create" aria-describedby="basic-addon1" id="card-name">
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                        Close
                                    </button>
                                    <button id="add-card-btn" type="button" class="btn btn-primary"
                                            onclick="addCard(this)" value="">Add
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="list-group list-size">
                    <a href="#"
                       class="list-group-item list-group-item-secondary list-group-item-action d-flex gap-2 py-2"
                       aria-current="true" data-bs-toggle="modal"
                       data-bs-target="#side-create">
                        + Add another list
                    </a>
                </div>
            </div>

        </div>
        <!--사이드 추가-->


        <!--사이드 생성 모달창-->
        <div class="modal fade" id="side-create" tabindex="-1" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5">Add another list</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <input type="text" class="form-control" placeholder="Enter list title..."
                               aria-label="card-create" aria-describedby="basic-addon1" id="list-title">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            Close
                        </button>
                        <button type="button" class="btn btn-primary" onclick="addList()">Add</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- 카드 상세 페이지 모달창 가져오기 -->
<div id="modalContainer"></div>
<script>
    const modalContainer = document.getElementById('modalContainer');
    const modalRequest = new XMLHttpRequest();
    modalRequest.open('GET', 'card.html', true);
    modalRequest.onload = function () {
        if (modalRequest.status >= 200 && modalRequest.status < 400) {
            modalContainer.innerHTML = modalRequest.responseText;
        }
    };
    modalRequest.send();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

</body>
</html>

<script>

    $(document).ready(function () {
        //보드리스트 전부 불러오기
        getBoards();
        //보드 멤버들 불러오기
        getBoardMembers();

        // 라벨 배경색에 따라 글씨 색상을 선택하는 함수 추가
        applyTextColorToLabels();
        const auth = getToken();
        // "New board" 버튼 클릭 시 팝업 창 열기

    });


    // 보드 라벨 모달이 열릴 때 호출되는 함수
    $('#board-label').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget); // 클릭한 버튼
        var labelName = button.text(); // 버튼의 텍스트(라벨 이름)
        var backgroundColor = button.css('background-color'); // 버튼의 배경색
        var labelId = button.data('label-id');
        var modal = $(this); // 모달

        // 모달 내 필드에 값 할당
        modal.find('#label-update-name input').val(labelName);
        modal.find('#label-update-color input').val(backgroundColor);
        modal.find('#delete-label-btn').val(labelId);
        modal.find('#update-label-btn').val(labelId);

    });

    //라벨 색상에 따른 글씨색상 조정
    function applyTextColorToLabels() {
        let labelElements = document.querySelectorAll('.label-text');

        labelElements.forEach(function (element) {
            let bgColor = getComputedStyle(element).backgroundColor;
            let bgColorRGB = extractRGBValues(bgColor);

            let lightness = calculateLightness(bgColorRGB.r, bgColorRGB.g, bgColorRGB.b);
            let textColor = lightness < 50 ? 'white' : 'black';

            element.style.color = textColor;
        });
    }

    function deleteLabel(button) {
        let labelId = button.value;
        let boardId = $('#this-board').val();
        console.log("labelId:" + labelId);
        fetch(`/boards/${boardId}/sides/${labelId}`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json"
            }
        })
            .then(function (response) {
                window.location.href = "/boards/" + boardId;
            })
            .catch(function (error) {
                console.error("라벨 삭제 실패", error);
            });
    }

    function updateLabel(button) {
        let labelId = button.value;
        console.log("labelId:" + labelId);
        let title = $('#label-update-name input').val();
        let color = $('#label-update-color input').spectrum('get').toRgb();
        let boardId = $('#this-board').val();
        console.log("boardId" + boardId);
        let requestDto = {
            "title": title,
            "red": color.r,
            "green": color.g,
            "blue": color.b
        };
        fetch(`/boards/${boardId}/labels/${labelId}`, {  // 여기에서 중괄호 추가
            method: "PUT",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestDto)
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                window.location.href = "/boards/" + boardId;
            })
            .catch(function (error) {
                console.error("라벨 변경 실패", error);
            });
    }

    // 쿠키에서 인증 토큰 가져오기
    function getToken() {
        let auth = Cookies.get('Authorization');

        if (auth === undefined) {
            return '';
        }
        return auth;
    }

    function setCardAddButtonValue(value) {
        document.getElementById('add-card-btn').value = value;
    }

    function setDeleteListButtonValue(value) {
        document.getElementById('delete-list').value = value;
    }

    function setChangeListPositionButtonValue(value) {
        document.getElementById('change-list-position').value = value;
    }

    function setChangeListNameButtonValue(value) {
        document.getElementById('change-list-name').value = value;
    }

    $("#label-update-color input").spectrum({
        //allowEmpty:true, //색없음 가능 여부 default - false
        showButtons: true, //하단 close, choose 버튼
        preferredFormat: "rgb",//색 포맷 형식 지정
        // color: "rgb(128,128,128)", //초기 색상
        showPalette: true,//왼쪽 색 파레트 사용여부
        palette: [
            ['rgb(0,0,0)', 'rgb(235,235,235)'], // 한 줄에 두 가지 색상씩 두줄로 표시됨
            ['rgb(0,255,0)', 'rgb(255,0,0)']
        ], // 왼쪽 색 파레트 초기색
        showInitial: true, //현재 색 보여줄지 여부
        showInput: false, // 문자로 입력 가능하도록 input추가
        showAlpha: false, // 투명도 사용 여부
        maxSelectionSize: 3, //이전 선택한 색 최대 몇 개까지 보여줄 지 갯수
        show: function (color) {//파레트 보여줄 때 이벤트
        },
        change: function (color) {//색 선택 시 이벤트
            // color.toHexString()
        },
        hide: function (color) { // 파레트 닫을 때 이벤트
        },
    })

    $("#board-color").spectrum({
        //allowEmpty:true, //색없음 가능 여부 default - false
        showButtons: true, //하단 close, choose 버튼
        preferredFormat: "rgb",//색 포맷 형식 지정
        color: $("#background-color").css("background-color"), //초기 색상
        showPalette: true,//왼쪽 색 파레트 사용여부
        palette: [
            ['rgb(0,0,0)', 'rgb(235,235,235)'], // 한 줄에 두 가지 색상씩 두줄로 표시됨
            ['rgb(0,255,0)', 'rgb(255,0,0)']
        ], // 왼쪽 색 파레트 초기색
        showInitial: true, //현재 색 보여줄지 여부
        showInput: false, // 문자로 입력 가능하도록 input추가
        showAlpha: false, // 투명도 사용 여부
        maxSelectionSize: 3, //이전 선택한 색 최대 몇 개까지 보여줄 지 갯수
        show: function (color) {//파레트 보여줄 때 이벤트
        },
        change: function (color) {//색 선택 시 이벤트
            // color.toHexString()
        },
        hide: function (color) { // 파레트 닫을 때 이벤트
        },

    });
    // 보드 조회 이벤트 리스너 추가
    // document.addEventListener("DOMContentLoaded", function () {
    //     // "Boards" 링크 클릭 시
    //     const boardsLink = document.getElementById("board-user-content");
    //     boardsLink.addEventListener("click", getUserInfo);
    // });
    function getUserInfo(clicked) {
        let userId = clicked.getAttribute("data-user-id");
        console.log(userId);

        fetch(`/users/user-info/${userId}`)
            .then(function (response) {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error("보드멤버 불러오기 실패");
                }
            })
            .then(function (responseDto) {
                $('#user-info-desc').empty();
                console.log(responseDto);
                let nickname = responseDto.nickname;
                let email = responseDto.email;
                console.log(nickname, email);
                let temp_html = `
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5">User Info</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body d-flex">
                                        <a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"
                                           data-bs-target="#user-info" aria-expanded="false">
                                            <img src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"
                                                 alt="mdo" width="70" height="70" class="rounded-circle">
                                        </a>
                                        <div style="margin-left: 20px">
                                            <h5><b>${nickname}</b></h5>
                                                ${email}
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                            Close
                                        </button>
                                        <button type="button" class="btn btn-primary" value="${userId}" onclick="deleteMember(this)">Delete</button>
                                    </div>

            `;
                $('#user-info-desc').append(temp_html);
            });
    }

    function deleteMember(button) {
        let memberId = button.value;
        let boardId = $('#this-board').val();
        console.log(memberId);
        fetch(`/boards/${boardId}/members/${memberId}`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json"
            }
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                alert(responseDto.msg);
                window.location.href = "/boards/" + boardId;
            })
            .catch(function (error) {
                console.error("유저 삭제 실패", error);
            });

    }

    function getBoardMembers() {
        let boardId = $('#this-board').val();
        console.log(boardId);

        fetch(`/boards/${boardId}/members`)
            .then(function (response) {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error("보드멤버 불러오기 실패");
                }
            })
            .then(function (responseDto) {
                $('#board-user-list').empty();
                console.log(responseDto);
                responseDto.forEach(function (member) {
                    let id = member.userId;
                    let nickname = member.nickname;
                    let email = member.email;
                    console.log(nickname, email);
                    let temp_html = `<a href="#" class="d-block link-body-emphasis text-decoration-none" data-bs-toggle="modal"
                                       data-bs-target="#user-info" aria-expanded="false" id="board-user-content" onclick="getUserInfo(this)" data-user-id="${id}" >
                                        <img
                                                src="https://vignette.wikia.nocookie.net/the-sun-vanished/images/5/5d/Twitter-avi-gender-balanced-figure.png/revision/latest?cb=20180713020754"
                                                alt="mdo" width="32" height="32" class="rounded-circle">
                                    </a>
                `;
                    $('#board-user-list').append(temp_html);
                });
            });
    }


    function addList() {
        let boardId = $('#this-board').val();

        let name = $('#list-title').val();
        console.log("title: " + name);
        let requestDto = {
            "name": name
        };
        fetch(`/boards/${boardId}/sides`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestDto)
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                alert(responseDto.msg);
                if (responseDto.statusCode === 201) {
                    window.location.href = "/boards/" + boardId;
                }
            })
            .catch(function (error) {
                console.error("리스트 추가 실패", error);
            });
    }

    function deleteList() {
        // 현재 선택된 sideId value 값 가져오기
        let sideId = document.getElementById('delete-list').value;
        let boardId = $('#this-board').val();
        console.log(sideId, boardId);
        fetch(`/boards/${boardId}/sides/${sideId}`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json"
            }
        })
            .then(function (response) {
                window.location.href = "/boards/" + boardId;
            })
            .catch(function (error) {
                console.error("사이드 삭제 실패", error);
            });
    }

    function editList() {
        let name = $('#edit-list-name').val();
        let boardId = $('#this-board').val();
        let sideId = document.getElementById('change-list-name').value;

        if(name==""){
            alert("변경할 이름을 입력해주세요.");
            return;
        }
        let requestDto = {
            "name": name
        };
        fetch(`/boards/${boardId}/sides/${sideId}/name`, {
            method: "PUT",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestDto)
        })
            .then(function (response) {
                if (response.ok) {
                    alert("이름을 " + name + "으로 변경했습니다.");
                    window.location.href = "/boards/" + boardId;
                }
            })
            .catch(function (error) {
                console.error("이름 변경 실패", error);
            });

    }


    function addCard() {
        // 현재 선택된 sideId value 값 가져오기
        let sideId = document.getElementById('add-card-btn').value;
        let boardId = $('#this-board').val();
        let name = $('#card-name').val();

        let requestDto = {
            "name": name
        }
        fetch(`/boards/${boardId}/sides/${sideId}/cards`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestDto)
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                if (responseDto.statusCode === 201) {
                    window.location.href = "/boards/" + boardId;
                }
            })
            .catch(function (error) {
                console.error("카드추가 실패", error);
            });
    }


    function inviteUser() {
        let boardId = $('#this-board').val();
        let email = $('#invite-email').val();
        console.log(boardId);
        console.log(email);
        //이메일 정규식
        let regex = new RegExp('[a-z0-9]+@[a-z]+\.[a-z]{2,3}');
        if (regex.test(email)) {
            console.log("이메일 정규식 검증통과")

            //request 생성
            let requestDto = {
                "email": email
            };
            fetch(`/boards/${boardId}/members`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(requestDto)
            })
                .then(function (response) {
                    return response.json();
                })
                .then(function (responseDto) {
                    alert(responseDto.msg);
                    if (responseDto.statusCode === 201) {
                        window.location.href = "/boards/" + boardId;
                    }
                })
                .catch(function (error) {
                    console.error("유저초대 실패", error);
                });
        } else {
            alert("입력한 이메일 형식이 올바르지 않습니다.");
        }
    }

    function deleteBoard() {
        let boardId = $('#this-board').val();

        fetch(`/boards/${boardId}`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json"
            }
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                alert(responseDto.msg);
                if (responseDto.statusCode === 200) {
                    window.location.href = "/";
                }
                $('#popup-delete-container').removeClass('active');
            })
            .catch(function (error) {
                console.error("보드 삭제 실패", error);
            });
    }


    function extractRGBValues(rgbString) {
        let rgbValues = rgbString.match(/\d+/g);
        return {
            r: parseInt(rgbValues[0]),
            g: parseInt(rgbValues[1]),
            b: parseInt(rgbValues[2])
        };
    }

    function calculateLightness(red, green, blue) {
        // Convert RGB to HSL
        red /= 255;
        green /= 255;
        blue /= 255;

        let max = Math.max(red, green, blue);
        let min = Math.min(red, green, blue);
        let lightness = (max + min) / 2;

        return lightness * 100;
    }

    let boardNameCheckStatus = 1;

    function nameConfirm() {
        boardNameCheckStatus = 0;
        let name = document.getElementById("board-name");
        let error = document.getElementById("name-error");
        let success = document.getElementById("name-success");

        let regex = new RegExp('^(?=.*[a-z0-9가-힣])[a-z0-9가-힣]{2,16}$');
        if (regex.test(name.value)) {
            error.style.display = "none";
            success.style.display = "block";
            success.textContent = "사용가능한 보드이름입니다."
            name.style.borderColor = "green";
            boardNameCheckStatus = 1;
        } else {
            error.style.display = "block";
            error.textContent = "보드이름은 2~16자의 영어, 숫자, 한글로 사용할 수 있습니다."
            success.style.display = "none";
            name.style.borderColor = "red";
            boardNameCheckStatus = 0;
        }
    }

    function changeBoard(button) {
        let boardId = button.value;
        if (boardNameCheckStatus === 0) {
            alert("적합한 보드명을 작성해주세요.")
            return;
        }
        let name = $('#board-name').val();
        let description = $('#board-description').val();
        let color = $('#board-color').spectrum('get').toRgb();
        console.log(name);
        console.log(description);
        console.log(color);


        let requestDto = {
            "name": name,
            "description": description,
            "red": color.r,
            "green": color.g,
            "blue": color.b
        }

        fetch(`/boards/` + boardId, {
            method: "PUT",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestDto)
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                alert(responseDto.msg);
                window.location.href = "/boards/" + boardId;
            })
            .catch(function (error) {
                console.error("보드 변경 실패", error);

            });
    }


    //서버에서 보드 가져오기
    function getBoards() {
        fetch(`/myboard`)
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                $('#my-boards-list').empty();
                responseDto.forEach(function (myboard) {
                    let boardId = myboard.boardId;
                    let name = myboard.name;
                    let temp_html = `
                    <a class="dropdown-item" href="/boards/${boardId}">${name}</a>`
                    $('#my-boards-list').append(temp_html);
                });
            }).catch(function (error) {
            console.error("게스트보드 불러오기 실패", error);
        });
        fetch(`/guestboard`)
            .then(function (response) {
                return response.json();
            })
            .then(function (responseDto) {
                $('#guest-boards-list').empty();
                responseDto.forEach(function (guestboard) {
                    let boardId = guestboard.boardId;
                    let name = guestboard.name;
                    let temp_html = `
                    <a class="dropdown-item" href="/boards/${boardId}">${name}</a>`
                    $('#guest-boards-list').append(temp_html);
                });
            })
            .catch(function (error) {
                console.error("게스트보드 불러오기 실패", error);
            });
    }
</script>


</body>
</html>